
{% load static %}
{% load bootstrap4 %}


<style>
    .checked {
        color: orange;
    }

    .my-btn{
        background-color: inherit !important;
        border: 0 !important;
    }
    /* vendor picture */
    .vendorPic{
        height: 200px;
        width: 200px;
    }
    /* reviewer picture */
    .reviewerPic{
        height: 50px;
        width: 50px;
        border-radius: 50%;
    }

</style>

<!-- display reviews and ratings -->
{% if user.is_customer%}
<div class="card mb-3">
    <div class="review-input">
        <h3 class="">Your Review</h3>
        <textarea class="form-control mb-3" id="desc-text" rows="3"
            placeholder="Post your review here"></textarea>
            <form class="rate-form" id="rate-form" method="POST">
                {% csrf_token %}
            <!-- space for rating -->
            <button  type="submit" onClick="window.location.href=window.location.href" name='ratings' class="fa fa-star my-btn fa-2x" id="first"></button>
            <button  type="submit" onClick="window.location.href=window.location.href" name='ratings' class="fa fa-star my-btn fa-2x" id="second"></button>
            <button  type="submit" onClick="window.location.href=window.location.href" name='ratings'  class="fa fa-star my-btn fa-2x" id="third"></button>
            <button  type="submit" onClick="window.location.href=window.location.href" name='ratings'  class="fa fa-star my-btn fa-2x" id="fourth"></button>
            <button  type="submit" onClick="window.location.href=window.location.href" name='ratings' class="fa fa-star my-btn fa-2x" id="fifth"></button>
        </form>
    </div>
</div>
{% endif %}

{% if reviews %}

    {% for review in reviews %}
<div class="card">
    <div class="customer-details">
        <div class="customer-pic">
            <img src="{% static 'images/user.png' %}" alt="">
        </div>
        <div class="customer-name">
            <h5>{{review.customer}}</h5>
            <p>{{review.published_date|date:"d-m-Y"}}</p>
        </div>
        <div class="rating">
        {% ifequal review.ratings  1 %}
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn "></button>
        {% endifequal %}

        {% ifequal review.ratings  2 %}
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn "></button>
        {% endifequal %}

        {% ifequal review.ratings  3 %}
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn " ></button>
        <button  class="fa fa-star my-btn "></button>
        {% endifequal %}

        {% ifequal review.ratings  4 %}
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn "></button>
        {% endifequal %}

        {% ifequal review.ratings  5 %}
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked" ></button>
        <button  class="fa fa-star my-btn checked"></button>
        {% endifequal %}
        </div>
    </div>
    <div class="customer-review">
        <p>{{review.description|safe}}
        </p>
    </div>
</div>
{% endfor %}

{% else %}
<i>No Reviews yet.</i>
{% endif %}

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="{% static 'js/master.js' %}"></script>

    <br>
    <!-- <div id>

    </div> -->

